services:
  scheduler:
    image: sneks-test
    build:
      context: .
      args:
        PIP_PACKAGES: "${PIP_PACKAGES}"
    command: dask-scheduler
    ports:
      - "8786:8786"
      - "8787:8787"
  worker-1:
    image: sneks-test
    command: dask-worker tcp://scheduler:8786
    depends_on:
      - scheduler
  worker-2:
    image: sneks-test
    command: dask-worker tcp://scheduler:8786
    depends_on:
      - scheduler
